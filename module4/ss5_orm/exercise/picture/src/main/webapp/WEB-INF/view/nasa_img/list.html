<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Bức ảnh của ngày</title>

    <style>
        #sw {
            width: 500px;
            height: 500px;
        }
    </style>
</head>
<body>
<h1>Siver Wolf hãy về với taa !</h1>
<img id="sw"
     src="https://editors.dexerto.com/wp-content/uploads/2023/06/08/Is-Silver-Wolf-worth-pulling-Honkai-Star-Rail.jpg">
<table>
    <tr>
        <td>
            <input type="hidden" id="likeCount" value='0'>
            <button type="button" onclick="likeFunction()" id="btnLike">Like <span id="resultLike"></span></button>
        </td>
<!--        <input type="hidden" id="likeCount">-->
        <td>
            <input type="hidden" id="dislikeCount" value='0'>
            <button type="button" onclick="disLikeFunction()" id="btnDislike">Dislike <span id="resultDisLike"></span></button>
        </td>
    </tr>
</table>
<form th:action="@{/nasa/list}" method="post" th:object="${nasaCreate}">
    <h2>Author: </h2>
    <input type="text" th:field="*{author}">
    <h2>Feedback: </h2>
    <textarea cols="50" rows="10" th:field="*{feedback}"></textarea>
    <br>
    <input type="submit" value="Comment">
</form>

<table th:each="n:${nasa}" th:object="${n}">
    <tr>
        <td>Author: <span th:text="*{author}"></span></td>
    </tr>

    <tr>
        <td>Feedback: <span th:text="*{feedback}"></span></td>
    </tr>

    <tr>
        <hr>
    </tr>
    <!--    <tr>-->
    <!--        <td th:text="*{id}"></td>-->
    <!--        <td th:text="*{author}"></td>-->
    <!--        <td th:text="*{feedback}"></td>-->
    <!--    </tr>-->

    <!--    <tr>-->
    <!--        <td>-->
    <!--            <button type="submit" onclick="likeFunction()">Like</button>-->
    <!--        </td>-->
    <!--        <td id="resultLike" th:value="*{like}"></td>-->
    <!--    </tr>-->

    <!--    <tr>-->
    <!--        <td>-->
    <!--            <button type="submit" onclick="disLikeFunction()">Dislike</button>-->
    <!--        </td>-->
    <!--        <td id="resultDisLike" th:value="*{dislike}"></td>-->
    <!--    </tr>-->
</table>

<script>
    // let query = 'https://api.nasa.gov/planetary/apod?api_key=1ZnB8zbM8lXIchxEt3NMxhzmhmdgceOT3dEqKhba';
    // let request = new XMLHttpRequest();
    // request.open('GET', query);
    // request.onload = function() {
    //     if (request.status === 200) {
    //         let response = JSON.parse(request.responseText);
    //         document.getElementById('img-of-the-day').setAttribute('src', response.url);
    //     }
    // };
    // request.send();
    function likeFunction() {
        likeCount.value = Number.parseInt(likeCount.value) +1;
        resultLike.innerHTML = likeCount.value;
    }

    function disLikeFunction() {
        dislikeCount.value = Number.parseInt(dislikeCount.value) +1;
        resultDisLike.innerHTML = dislikeCount.value;
    }
</script>
</body>
</html>